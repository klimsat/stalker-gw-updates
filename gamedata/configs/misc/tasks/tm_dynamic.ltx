; --------------------------------------------------------------------------------------------------
; FIND SUPPLIES FOR STALKER, CLEAR SKY, DUTY, OR ECOG TASK-

[simulation_task_1]
icon = ui_inGame2_PD_Opitniy_stalker
prior = 90
repeat_timeout = 86400
storyline = false
sim_communities = stalker, csky, dolg, ecolog, isg, veter, hunter, posleduden, angel
title = simulation_task_1_name
title_functor = general_fetch_task
descr = simulation_task_1_text
descr_functor = general_fetch_task
job_descr = simulation_task_1_about
fetch_descr = simulation_task_1_fetch_about
fetch_func = %=setup_supplies_fetch_task(simulation_task_1_fetch:1:4)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = simulation_task_1_fetch_finish
precondition = true
on_complete = %=reward_item_cost_mult_and_remove(simulation_task_1_fetch:1) =reward_stash(true) =remove_fetch_item(simulation_task_1_fetch) =inc_task_stage(simulation_task_1) =pstor_reset(simulation_task_1_fetch)%
on_fail = %=pstor_reset(simulation_task_1_fetch)%
on_cancel = %=pstor_reset(simulation_task_1_fetch)%
reward_item = ammo_5.56x45_ap:ammo_5.56x45_ap:ammo_12x70_buck:ammo_12x70_buck
condlist_0 = {!task_giver_alive(simulation_task_1)} fail


;--------------------------------------------------------------------------------------------------
; FIND SUPPLIES FOR FREEDOM OR MERC TASK-

[simulation_task_2]
icon = ui_inGame2_PD_Opitniy_stalker
prior = 90
repeat_timeout = 86400
storyline = false
sim_communities = freedom, killer, isg, veter, alfa, posleduden
title = simulation_task_2_name
title_functor = general_fetch_task
descr = simulation_task_2_text
descr_functor = general_fetch_task
job_descr = simulation_task_2_about
fetch_descr = simulation_task_2_fetch_about
fetch_func = %=setup_supplies_fetch_task(simulation_task_2_fetch:1:4)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = simulation_task_2_fetch_finish
precondition = true
on_complete = %=reward_item_cost_mult_and_remove(simulation_task_2_fetch:2.5) =reward_stash(true) =remove_fetch_item(simulation_task_2_fetch) =inc_task_stage(simulation_task_2) =pstor_reset(simulation_task_2_fetch)%
on_fail = %=pstor_reset(simulation_task_2_fetch)%
on_cancel = %=pstor_reset(simulation_task_2_fetch)%
condlist_0 = {!task_giver_alive(simulation_task_2)} fail


; --------------------------------------------------------------------------------------------------
; FIND MUTANT MEAT FOR STALKER, CLEAR SKY, MERC, FREEDOM, OR BANDIT TASK-

[simulation_task_3]
icon = ui_inGame2_Nochnaya_ohota
prior = 75
sim_communities = stalker, csky, killer, freedom, bandit, renegate, slizni, velhan, isg, veter, angel, posleduden
storyline = false
title = simulation_task_3_name
title_functor = general_fetch_task
descr = simulation_task_3_text
descr_functor = general_fetch_task
job_descr = simulation_task_3_about
fetch_descr = simulation_task_3_fetch_about
fetch_func = %=setup_generic_fetch_task(simulation_task_3_fetch:6:mutant_part_boar_chop:mutant_part_dog_meat:mutant_part_flesh_meat:mutant_part_psevdodog_meat:mutant_part_tushkano_meat)%
stage_complete = 1
repeat_timeout = 86400
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = simulation_task_3_fetch_finish
precondition = true
on_complete = %=reward_item_cost_mult_and_remove(simulation_task_3_fetch:6:6) =reward_stash(true) =inc_task_stage(simulation_task_3)%
reward_item = ammo_9x39_ap:ammo_9x39_ap:ammo_9x39_ap:ammo_5.56x45_ap:ammo_5.56x45_ap
condlist_0 = {!task_giver_alive(simulation_task_3)} fail


;--------------------------------------------------------------------------------------------------
; FIND ARTEFACT FOR STALKER TASK-

[simulation_task_4]
icon = ui_inGame2_Kontrakt_s_uchenimi
prior = 65
sim_communities = stalker, veter
storyline = false
title = simulation_task_4_name
title_functor = general_fetch_task
descr = simulation_task_4_text
descr_functor = general_fetch_task
job_descr = simulation_task_4_about
fetch_descr = simulation_task_4_fetch_about
fetch_func = %=setup_artefact_fetch_task(simulation_task_4_fetch)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = simulation_task_4_fetch_finish
precondition = true
repeat_timeout = 86400
on_complete = %=complete_task_inc_goodwill(50:stalker) =remove_fetch_item(simulation_task_4_fetch) =reward_stash(true) =inc_task_stage(simulation_task_4)%
on_fail = %=fail_task_dec_goodwill(25:stalker:veter)%
condlist_0 = {!task_giver_alive(simulation_task_4)} fail
reward_item = wpn_vintorez


;--------------------------------------------------------------------------------------------------
; FIND WEAPON FOR STALKER TASK-

[simulation_task_5]
icon = ui_inGame2_Osobiy_zakaz
prior = 60
sim_communities = stalker, darkstalker, veter, angel, posleduden, greh
storyline = false
title = simulation_task_5_name
title_functor = general_fetch_task
descr = simulation_task_5_text
descr_functor = general_fetch_task
job_descr = simulation_task_5_about
fetch_descr = simulation_task_5_fetch_about
fetch_func = %=setup_weapon_fetch_task(simulation_task_5_fetch)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = simulation_task_5_fetch_finish
precondition = true
repeat_timeout = 86400
on_complete = %=complete_task_inc_goodwill(50:stalker) =reward_item_cost_mult_and_remove(simulation_task_5_fetch:1.2) =reward_stash(true) =inc_task_stage(simulation_task_5)%
on_fail = %=fail_task_dec_goodwill(25:stalker:darkstalker:veter:angel:posleduden:greh)%
condlist_0 = {!task_giver_alive(simulation_task_5)} fail


;--------------------------------------------------------------------------------------------------
; FIND WEAPON FOR DUTY, MERC, CLEAR SKY, OR MILITARY TASK-

[simulation_task_6]
icon = ui_inGame2_Osobiy_zakaz
prior = 60
sim_communities = dolg, killer, csky, army, darkstalker, isg, veter, ryskuspecnaz, angel, posleduden, greh
storyline = false
title = simulation_task_6_name
title_functor = general_fetch_task
descr = simulation_task_6_text
descr_functor = general_fetch_task
job_descr = simulation_task_6_about
fetch_descr = simulation_task_6_fetch_about
fetch_func = %=setup_weapon_fetch_task(simulation_task_6_fetch)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = simulation_task_6_fetch_finish
precondition = true
repeat_timeout = 86400
on_complete = %=reward_item_cost_mult_and_remove(simulation_task_6_fetch:1.5) =reward_stash(true) =inc_task_stage(simulation_task_6)%
condlist_0 = {!task_giver_alive(simulation_task_6)} fail



;--------------------------------------------------------------------------------------------------
; ASSASSINATION  FOR STALKER TASK-

[simulation_task_11]
icon = ui_inGame2_Odin_vistrel
prior = 35
sim_communities = stalker, darkstalker, veter, angel, posleduden, greh
storyline = false
title = simulation_task_11_name
descr = simulation_task_11_text
job_descr = simulation_task_11_about
task_complete_descr = simulation_task_11_finish
precondition = true
repeat_timeout = 86400
status_functor = bounty_task
target_functor = general_bounty_task
stage_complete = 1
on_init = %=on_init_bounty_hunt(simulation_task_11:killer:army:bandit)%
on_complete = %=reward_random_money(5000:7000) =reward_stash(true) =inc_task_stage(simulation_task_11) =complete_task_inc_goodwill(50:stalker)%
on_fail = %=fail_task_dec_goodwill(25:stalker:darkstalker:veter:angel:posleduden:greh)%
condlist_0 = {!task_giver_alive(simulation_task_11)} fail


;--------------------------------------------------------------------------------------------------
; VENGEANCE FOR STALKER TASK-

[simulation_task_12]
icon = ui_inGame2_Odin_vistrel
prior = 35
sim_communities = stalker, darkstalker, veter, angel, posleduden, greh
storyline = false
title = simulation_task_12_name
descr = simulation_task_12_text
job_descr = simulation_task_12_about
task_complete_descr = simulation_task_12_finish
precondition = true
repeat_timeout = 86400
status_functor = bounty_task
target_functor = general_bounty_task
stage_complete = 1
on_init = %=on_init_bounty_hunt(simulation_task_12:bandit)%
on_complete = %=inc_task_stage(simulation_task_12) =reward_stash(true) =complete_task_inc_goodwill(50:stalker)%
on_fail = %=fail_task_dec_goodwill(25:stalker:darkstalker:veter:angel:posleduden:greh)%
condlist_0 = {!task_giver_alive(simulation_task_12)} fail
reward_item = wpn_sig550:vodka


; --------------------------------------------------------------------------------------------------
; FIND SUPPLIES FOR BANDIT TASK-

[simulation_task_13]
icon = ui_inGame2_PD_Opitniy_stalker
prior = 90
repeat_timeout = 86400
storyline = false
sim_communities = bandit, renegate, varyag, slizni, velhan
title = simulation_task_13_name
title_functor = general_fetch_task
descr = simulation_task_13_text
descr_functor = general_fetch_task
job_descr = simulation_task_13_about
fetch_descr = simulation_task_13_fetch_about
fetch_func = %=setup_supplies_fetch_task(simulation_task_13_fetch:1:4)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = simulation_task_13_fetch_finish
precondition = true
on_complete = %=reward_item_cost_mult_and_remove(simulation_task_13_fetch:1) =reward_stash(true) =remove_fetch_item(simulation_task_13_fetch) =inc_task_stage(simulation_task_13) =pstor_reset(simulation_task_13_fetch)%
on_fail = %=pstor_reset(simulation_task_13_fetch)%
on_cancel = %=pstor_reset(simulation_task_13_fetch)%
reward_item = ammo_9x39_pab9:ammo_9x39_pab9:ammo_5.45x39_ap:ammo_vog-25
condlist_0 = {!task_giver_alive(simulation_task_13)} fail


; --------------------------------------------------------------------------------------------------
; FIND SUPPLIES FOR MILITARY TASK-

[simulation_task_14]
icon = ui_inGame2_PD_Opitniy_stalker
prior = 90
repeat_timeout = 86400
storyline = false
sim_communities = army, voenstal, ryskuspecnaz
title = simulation_task_14_name
title_functor = general_fetch_task
descr = simulation_task_14_text
descr_functor = general_fetch_task
job_descr = simulation_task_14_about
fetch_descr = simulation_task_14_fetch_about
fetch_func = %=setup_supplies_fetch_task(simulation_task_14_fetch:1:4)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = simulation_task_14_fetch_finish
precondition = true
on_complete = %=reward_item_cost_mult_and_remove(simulation_task_14_fetch:1) =reward_stash(true) =remove_fetch_item(simulation_task_14_fetch) =inc_task_stage(simulation_task_14) =pstor_reset(simulation_task_14_fetch)%
on_fail = %=pstor_reset(simulation_task_14_fetch)%
on_cancel = %=pstor_reset(simulation_task_14_fetch)%
reward_item = ammo_5.45x39_ap:ammo_5.45x39_fmj:ammo_5.45x39_fmj:ammo_9x19_pbp
condlist_0 = {!task_giver_alive(simulation_task_14)} fail


;--------------------------------------------------------------------------------------------------
; FIND ARTEFACT FOR MILITARY TASK-

[simulation_task_15]
icon = ui_inGame2_Kontrakt_s_uchenimi
prior = 65
sim_communities = army, voenstal, ryskuspecnaz
storyline = false
title = simulation_task_15_name
title_functor = general_fetch_task
descr = simulation_task_15_text
descr_functor = general_fetch_task
job_descr = simulation_task_15_about
fetch_descr = simulation_task_15_fetch_about
fetch_func = %=setup_artefact_fetch_task(simulation_task_15_fetch)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = simulation_task_15_fetch_finish
precondition = true
repeat_timeout = 86400
on_complete = %=complete_task_inc_goodwill(50:army:voenstal:ryskuspecnaz) =remove_fetch_item(simulation_task_15_fetch) =reward_stash(true) =inc_task_stage(simulation_task_15)%
on_fail = %=fail_task_dec_goodwill(25:army)%
condlist_0 = {!task_giver_alive(simulation_task_15)} fail
reward_item = wpn_svd


;--------------------------------------------------------------------------------------------------
; FIND WEAPON FOR BANDIT TASK-

[simulation_task_16]
icon = ui_inGame2_Osobiy_zakaz
prior = 60
sim_communities = bandit, renegate, varyag, slizni, velhan
storyline = false
title = simulation_task_16_name
title_functor = general_fetch_task
descr = simulation_task_16_text
descr_functor = general_fetch_task
job_descr = simulation_task_16_about
fetch_descr = simulation_task_16_fetch_about
fetch_func = %=setup_weapon_fetch_task(simulation_task_16_fetch)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = simulation_task_16_fetch_finish
precondition = true
repeat_timeout = 86400
on_complete = %=complete_task_inc_goodwill(50:bandit) =reward_item_cost_mult_and_remove(simulation_task_16_fetch:2) =reward_stash(true) =inc_task_stage(simulation_task_16)%
on_fail = %=fail_task_dec_goodwill(25:bandit:renegate:varyag:slizni:velhan)%
condlist_0 = {!task_giver_alive(simulation_task_16)} fail


;--------------------------------------------------------------------------------------------------
; ASSASSINATION FOR MILITARY TASK-

[simulation_task_17]
icon = ui_inGame2_Odin_vistrel
prior = 35
sim_communities = army, voenstal, ryskuspecnaz
storyline = false
title = simulation_task_17_name
descr = simulation_task_17_text
job_descr = simulation_task_17_about
task_complete_descr = simulation_task_17_finish
precondition = true
repeat_timeout = 86400
status_functor = bounty_task
target_functor = general_bounty_task
stage_complete = 1
on_init = %=on_init_bounty_hunt(simulation_task_17:bandit:freedom:csky)%
on_complete = %=reward_random_money(5000:7000) =inc_task_stage(simulation_task_17) =reward_stash(true) =complete_task_inc_goodwill(50:army)%
on_fail = %=fail_task_dec_goodwill(25:army)%
condlist_0 = {!task_giver_alive(simulation_task_17)} fail


;--------------------------------------------------------------------------------------------------
; ASSASSINATION  FOR MERC OR BANDIT TASK-

[simulation_task_18]
icon = ui_inGame2_Odin_vistrel
prior = 35
sim_communities = killer, bandit, renegate, varyag, slizni, velhan
storyline = false
title = simulation_task_18_name
descr = simulation_task_18_text
job_descr = simulation_task_18_about
task_complete_descr = simulation_task_18_finish
precondition = true
repeat_timeout = 86400
status_functor = bounty_task
target_functor = general_bounty_task
stage_complete = 1
on_init = %=on_init_bounty_hunt(simulation_task_18:stalker:army:dolg)%
on_complete = %=reward_random_money(5000:7000) =reward_stash(true) =inc_task_stage(simulation_task_18)%
condlist_0 = {!task_giver_alive(simulation_task_18)} fail

;--------------------------------------------------------------------------------------------------
; FACTION BASE DEFENSE VS MUTANTS-
[faction_base_defense]
icon = ui_iconsTotal_defend_lager
prior = 35
storyline = false
title = {-yantar_faction_base_defense_quest_started} faction_base_defense_name, {+yantar_faction_base_defense_quest_started} faction_base_defense_yantar_name
descr = {-yantar_faction_base_defense_quest_started} faction_base_defense_text, {+yantar_faction_base_defense_quest_started} faction_base_defense_yantar_text
target_functor = faction_base_defense_target
condlist_0 = {+faction_base_defense_enemy_killed +faction_base_defense_2nd_enemy_killed} complete
condlist_1 = {+yantar_faction_base_defense_quest_started -faction_base_defense_enemy_killed -faction_base_defense_2nd_enemy_killed !actor_on_level(l08_yantar)} fail
on_init = %+faction_base_defense_active%
on_complete = %-faction_base_defense_active =actor_surge_immuned(false)%
on_fail = %-faction_base_defense_active =actor_surge_immuned(false)%
on_cancel = %-faction_base_defense_active =actor_surge_immuned(false)%
