[walker@def]
out_restr = pri_a16_sr_noweap
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false

[walker@reach]:walker@def
combat_ignore_keep_when_attacked = false
invulnerable = false

[animpoint@def]
reach_movement = walk_noweap
use_camp = true
meet = meet@animpoint
out_restr = pri_a16_sr_noweap
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false

[animpoint@reach]:animpoint@def
invulnerable = false

[meet@animpoint]
close_anim 		= nil
close_victim 	= nil
far_anim 		= nil
far_victim 		= nil
close_snd_hello = nil
close_distance 	= 0
far_distance 	= 0
use = {=actor_enemy} false, {=dist_to_actor_le(3)} true, false
snd_on_use = {!dist_to_actor_le(3)} nil
meet_on_talking = false


[logic@pri_a16_stalker_1]
active = walker@guarder_1_reach
prior = 110

[walker@guarder_1_reach]:walker@reach
path_walk = guarder_1_walk
path_look = guarder_1_look
on_info = {=npc_in_zone(pri_surge_hide_a16)} walker@guarder_1

[walker@guarder_1]:walker@def
path_walk = guarder_1_walk
path_look = guarder_1_look
on_info = {=surge_started} walker@hide_1

[walker@hide_1]:walker@def
path_walk = hide_1_walk
path_look = hide_1_look
on_info = {=surge_complete} walker@guarder_1



[logic@pri_a16_stalker_2]
active = walker@guarder_2_reach 
prior = 100

[walker@guarder_2_reach]:walker@reach
path_walk = guarder_2_walk
path_look = guarder_2_look
on_info = {=npc_in_zone(pri_surge_hide_a16)} walker@guarder_2

[walker@guarder_2]:walker@def
path_walk = guarder_2_walk
path_look = guarder_2_look
on_info = {=surge_started} walker@hide_2

[walker@hide_2]:walker@def
path_walk = hide_2_walk
path_look = hide_1_look
on_info = {=surge_complete} walker@guarder_2



[logic@pri_a16_stalker_3]
active = animpoint@pri_a16_stalker_3 
prior = 100

[logic@pri_a16_stalker_4]
suitable = {=check_npc_name(sim_default_army_trader)} true, {=check_npc_name(sim_default_freedom_trader)} true, {=check_npc_name(sim_default_bandit_trader)} true, {=check_npc_name(sim_default_dolg_trader)} true, {=check_npc_name(sim_default_monolith_trader)} true, {=check_npc_name(sim_default_stalker_trader)} true, {=check_npc_name(sim_default_ecolog_trader)} true, {=check_npc_name(sim_default_csky_trader)} true, {=check_npc_name(sim_default_killer_trader)} true, {=check_npc_name(sim_default_isg_trader)} true, {=check_npc_name(sim_default_darkstalker_trader)} true, {=check_npc_name(sim_default_renegate_trader)} true, {=check_npc_name(sim_default_varyag_trader)} true, {=check_npc_name(sim_default_slizni_trader)} true, {=check_npc_name(sim_default_velhan_trader)} true, {=check_npc_name(sim_default_fantom_trader)} true, {=check_npc_name(sim_default_veter_trader)} true, {=check_npc_name(sim_default_osoznanie_trader)} true, {=check_npc_name(sim_default_alfa_trader)} true, {=check_npc_name(sim_default_apocalypse_trader)} true, {=check_npc_name(sim_default_adinkvizicia_trader)} true, {=check_npc_name(sim_default_hunter_trader)} true, {=check_npc_name(sim_default_voenstal_trader)} true, {=check_npc_name(sim_default_mirotvorec_trader)} true, {=check_npc_name(sim_default_ryskuspecnaz_trader)} true, {=check_npc_name(sim_default_sby_trader)} true, {=check_npc_name(sim_default_angel_trader)} true, {=check_npc_name(sim_default_posleduden_trader)} true, {=check_npc_name(sim_default_greh_trader)} true
prior = 200
active = animpoint@base
trade = misc\trade\trade_barman.ltx
level_spot = trader
dont_keep_items = true

[animpoint@base]
cover_name = pri_a16_animp_2
combat_ignore_cond = true
out_restr = pri_a16_sr_noweap
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false
use_camp = false

[logic@pri_a16_stalker_5]
active = animpoint@pri_a16_stalker_5
prior = 100

[logic@pri_a16_stalker_7]
active = animpoint@pri_a16_stalker_7
prior = 100

[logic@pri_a16_stalker_8]
active = animpoint@pri_a16_stalker_8
prior = 100

[logic@pri_a16_stalker_9]
active = animpoint@pri_a16_stalker_9
prior = 100

[logic@pri_a16_stalker_10]
active = animpoint@pri_a16_stalker_10
prior = 100

[logic@pri_a16_stalker_11]
active = animpoint@pri_a16_stalker_11
prior = 100

[logic@pri_a16_stalker_12]
active = animpoint@pri_a16_stalker_12
prior = 50

[animpoint@pri_a16_stalker_3]:animpoint@reach
cover_name = pri_a16_animp_1
on_info = {=npc_in_zone(pri_surge_hide_a16)} animpoint@pri_a16_stalker_3_reached

[animpoint@pri_a16_stalker_4]:animpoint@reach
cover_name = pri_a16_animp_2
on_info = {=npc_in_zone(pri_surge_hide_a16)} animpoint@pri_a16_stalker_4_reached

[animpoint@pri_a16_stalker_5]:animpoint@reach
cover_name = pri_a16_animp_3
on_info = {=npc_in_zone(pri_surge_hide_a16)} animpoint@pri_a16_stalker_5_reached

[animpoint@pri_a16_stalker_7]:animpoint@reach
cover_name = pri_a16_animp_5
on_info = {=npc_in_zone(pri_surge_hide_a16)} animpoint@pri_a16_stalker_7_reached

[animpoint@pri_a16_stalker_8]:animpoint@reach
cover_name = pri_a16_animp_6
on_info = {=npc_in_zone(pri_surge_hide_a16)} animpoint@pri_a16_stalker_8_reached

[animpoint@pri_a16_stalker_9]:animpoint@reach
cover_name = pri_a16_animp_7
meet = no_meet
on_info = {=npc_in_zone(pri_surge_hide_a16)} animpoint@pri_a16_stalker_9_reached

[animpoint@pri_a16_stalker_10]:animpoint@reach
cover_name = pri_a16_animp_8
meet = no_meet
on_info = {=npc_in_zone(pri_surge_hide_a16)} animpoint@pri_a16_stalker_10_reached

[animpoint@pri_a16_stalker_11]:animpoint@reach
cover_name = pri_a16_animp_4
on_info = {=npc_in_zone(pri_surge_hide_a16)} animpoint@pri_a16_stalker_11_reached

[animpoint@pri_a16_stalker_12]:animpoint@reach
cover_name = pri_a16_animp_sokolov
on_info = {=npc_in_zone(pri_surge_hide_a16)} animpoint@pri_a16_stalker_12_reached



[animpoint@pri_a16_stalker_3_reached]:animpoint@def
cover_name = pri_a16_animp_1

[animpoint@pri_a16_stalker_4_reached]:animpoint@def
cover_name = pri_a16_animp_2

[animpoint@pri_a16_stalker_5_reached]:animpoint@def
cover_name = pri_a16_animp_3

[animpoint@pri_a16_stalker_6_reached]:animpoint@def
cover_name = pri_a16_animp_vano

[animpoint@pri_a16_stalker_7_reached]:animpoint@def
cover_name = pri_a16_animp_5

[animpoint@pri_a16_stalker_8_reached]:animpoint@def
cover_name = pri_a16_animp_6

[animpoint@pri_a16_stalker_9_reached]:animpoint@def
cover_name = pri_a16_animp_7
meet = no_meet

[animpoint@pri_a16_stalker_10_reached]:animpoint@def
cover_name = pri_a16_animp_8
meet = no_meet

[animpoint@pri_a16_stalker_11_reached]:animpoint@def
cover_name = pri_a16_animp_4

[animpoint@pri_a16_stalker_12_reached]:animpoint@def
cover_name = pri_a16_animp_sokolov


[logic@pri_a16_yar]
suitable = {=check_npc_name(sim_default_army_medik)} true, {=check_npc_name(sim_default_freedom_medik)} true, {=check_npc_name(sim_default_bandit_medik)} true, {=check_npc_name(sim_default_dolg_medik)} true, {=check_npc_name(sim_default_monolith_medik)} true, {=check_npc_name(sim_default_stalker_medik)} true, {=check_npc_name(sim_default_ecolog_medik)} true, {=check_npc_name(sim_default_csky_medik)} true, {=check_npc_name(sim_default_killer_medik)} true, {=check_npc_name(sim_default_isg_medik)} true, {=check_npc_name(sim_default_darkstalker_medik)} true, {=check_npc_name(sim_default_renegate_medik)} true, {=check_npc_name(sim_default_varyag_medik)} true, {=check_npc_name(sim_default_slizni_medik)} true, {=check_npc_name(sim_default_velhan_medik)} true, {=check_npc_name(sim_default_fantom_medik)} true, {=check_npc_name(sim_default_veter_medik)} true, {=check_npc_name(sim_default_osoznanie_medik)} true, {=check_npc_name(sim_default_alfa_medik)} true, {=check_npc_name(sim_default_apocalypse_medik)} true, {=check_npc_name(sim_default_adinkvizicia_medik)} true, {=check_npc_name(sim_default_hunter_medik)} true, {=check_npc_name(sim_default_voenstal_medik)} true, {=check_npc_name(sim_default_mirotvorec_medik)} true, {=check_npc_name(sim_default_ryskuspecnaz_medik)} true, {=check_npc_name(sim_default_sby_medik)} true, {=check_npc_name(sim_default_angel_medik)} true, {=check_npc_name(sim_default_posleduden_medik)} true, {=check_npc_name(sim_default_greh_medik)} true
active = animpoint@leader
prior = 200
trade = misc\trade\trade_medic.ltx
level_spot = medic

[animpoint@leader]
cover_name = pri_a16_medic_yar
avail_animations = animpoint_sit_normal
combat_ignore_cond = {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = true
out_restr = pri_a16_sr_noweap
meet = meet

[meet]
close_anim 		= nil
close_victim 	= nil
far_anim 		= nil
far_victim 		= nil
close_distance  = 0
far_distance 	= 0
close_snd_distance = 3
allow_break 	= false
meet_on_talking = false


[logic@stalker_colonel]
active = walker@colonel_alter
prior = 200

[walker@colonel_alter]
meet = meet
def_state_standing = wait_na
def_state_moving = walk_noweap
path_walk = military_colonel_kovalski_walk
path_look = military_colonel_kovalski_look

[logic@sokolov_stalker]
active = animpoint@sokol 
prior = 200

[animpoint@sokol]
cover_name = pri_a16_animp_sokolov
combat_ignore_cond = {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = true
meet = meet

[logic@vano_stalker]
active = animpoint@vanya
prior = 200

[animpoint@vanya]
cover_name = pri_a16_animp_vano
combat_ignore_cond = {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = true
meet = meet
